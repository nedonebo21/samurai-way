"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[866],{6866:function(s,e,t){t.r(e),t.d(e,{ProfileApiComponent:function(){return rs},default:function(){return is}});var a=t(8683),r=t(5671),n=t(3144),i=t(136),o=t(5716),l=t(2791),c="profile-info_bg__RdL5q",u=t(885),d="description_description__lRpeK",p="description_info__9sugq",h="description_items_container__zN1hs",m="description_desc_sub_title__72-kh",f="description_desc_title__McVF0",v="description_desc_items__42+7h",x="description_desc_item__OBuDd",j="description_avatar_changer__daLAR",_="profile-avatar_img__qNnCu",g=t(4472),N=t(184),k=function(s){return(0,N.jsx)("img",{className:_,src:s.avatarUrl?s.avatarUrl:g,alt:"profileAvatar"})},A=function(s){var e=(0,l.useState)(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],n=(0,l.useState)(s.status),i=(0,u.Z)(n,2),o=i[0],c=i[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);var d=function(){a?(r(!1),s.updateStatusThunk(o)):r(!0)};return(0,N.jsx)("div",{children:a?(0,N.jsx)("div",{children:(0,N.jsx)("input",{type:"text",onChange:function(s){c(s.currentTarget.value)},onBlur:d,autoFocus:!0,value:o})}):(0,N.jsx)("div",{children:(0,N.jsx)("span",{onDoubleClick:d,children:s.status||"No status"})})})},P=t(8334),b=t(1389),C=t(6139),Z=t(704),w=t(1373),y=t(9617),S=(0,Z.Z)({form:"edit-profile"})((function(s){var e=s.profile,t=s.handleSubmit,a=s.error;return(0,N.jsxs)("form",{onSubmit:t,children:[(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("strong",{className:f,children:"Info:"}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Name: "}),(0,N.jsx)(C.Z,{placeholder:"Full Name",name:"fullName",validators:[],component:w.I})]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"About Me: "}),(0,N.jsx)(C.Z,{placeholder:"About Me",name:"aboutMe",validators:[],component:w.I})]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Looking For a Job: "}),(0,N.jsx)(C.Z,{placeholder:"",name:"lookingForAJob",validators:[],component:w.I,type:"checkbox"})]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Looking For:"}),(0,N.jsx)(C.Z,{placeholder:"Looking For",name:"lookingForAJobDescription",validators:[],component:y.g})]})]}),(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("strong",{className:f,children:"Contacts:"}),(0,N.jsx)("div",{children:"Contacts"}),": ",Object.entries(e.contacts).map((function(s){var e=(0,u.Z)(s,2),t=e[0];e[1];return(0,N.jsxs)("div",{className:x,children:[(0,N.jsxs)("strong",{className:m,children:[t,": "]}),(0,N.jsx)(C.Z,{placeholder:"".concat(t," link"),name:"contacts.".concat(t),validators:!0,component:w.I})]})}))]})]}),(0,N.jsx)(P.z,{onClick:function(){},children:"Save"}),a&&(0,N.jsx)("div",{className:b.Z.form_error,children:a})]})})),I=function(s){var e,t=(0,l.useState)(!1),a=(0,u.Z)(t,2),r=a[0],n=a[1];return(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)(k,{avatarUrl:null===(e=s.profile.photos)||void 0===e?void 0:e.large}),(0,N.jsxs)("div",{className:p,children:[s.isOwner&&(0,N.jsxs)("div",{className:j,children:["Change Avatar:",(0,N.jsx)("input",{type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&s.saveAvatar(e.target.files[0])}})]}),(0,N.jsx)(A,{status:s.status,updateStatusThunk:s.updateStatusThunk}),r?(0,N.jsx)(S,{initialValues:s.profile,onSubmit:function(e){s.saveProfile(e).then((function(){n(!1)}))},profile:s.profile}):(0,N.jsx)(T,{toggleEditMode:function(){n((function(s){return!s}))},profile:s.profile,isOwner:s.isOwner})]})]})},F=function(s){return(0,N.jsxs)("div",{className:x,children:[(0,N.jsxs)("strong",{className:m,children:[s.contactTitle,": "]}),s.contactValue?(0,N.jsx)("a",{href:s.contactValue,children:s.contactValue}):"No Link"]})},T=function(s){var e=s.profile,t=s.isOwner,a=s.toggleEditMode;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("strong",{className:f,children:"Info:"}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Name: "}),e.fullName]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"About Me: "}),e.aboutMe]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Looking For a Job: "})," ",e.lookingForAJob?"Yes":"No"]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("strong",{className:m,children:"Looking For: "}),e.lookingForAJobDescription||"No description"]})]}),(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)("strong",{className:f,children:"Contacts:"}),Object.entries(e.contacts).map((function(s){var e=(0,u.Z)(s,2),t=e[0],a=e[1];return(0,N.jsx)(F,{contactTitle:t,contactValue:a},t)}))]})]}),t&&(0,N.jsx)(P.z,{onClick:a,children:"Edit profile"})]})},O=t(9954),D=function(s){return s.profile?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:c,children:(0,N.jsx)("img",{src:"https://i.ytimg.com/vi/yLRaDfPSB-4/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLBJJjQdF_u5FifTIMKMDhilm3S0hA",alt:""})}),(0,N.jsx)(I,{saveProfile:s.saveProfile,isOwner:s.isOwner,saveAvatar:s.saveAvatar,profile:s.profile,status:s.status,updateStatusThunk:s.updateStatusThunk})]}):(0,N.jsx)(O.p,{})},M=t(2896),U="my-posts_posts__hBxUP",L="my-posts_posts_wrapper__2K+UT",J="my-posts_new_post__tbvez",E="my-posts_btn_block__6Ux0C",q=t(5987),z="post_item__ff5TC",B="post_post_text__ZWYkx",R="posts-avatar_img__0o5ck",V=function(s){return(0,N.jsx)("img",{className:R,src:s.avatar?s.avatar:g,alt:""})},K=["message","likesCount"],$=function(s){var e=s.message,t=s.likesCount,a=(0,q.Z)(s,K);return(0,N.jsxs)("div",{className:z,children:[(0,N.jsx)(V,{avatar:a.avatar}),(0,N.jsx)("div",{className:B,children:e}),(0,N.jsxs)(P.z,{onClick:function(){},children:["Like: ",(0,N.jsx)("strong",{children:t})]})]})},Q=t(9330),G=function(s){(0,i.Z)(t,s);var e=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"shouldComponentUpdate",value:function(s,e){return s!=this.props||e!=this.state}},{key:"render",value:function(){var s=this,e=this.props.profilePage.postsData.map((function(e){return(0,N.jsx)($,{message:e.message,avatar:s.props.avatar,likesCount:e.likes},e.id)})),t=this.props.profilePage.postsData.length?e:(0,N.jsx)("p",{children:"No posts. Lets post something!"});return(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("h3",{children:"My Posts"}),(0,N.jsx)(W,{onSubmit:function(e){e.newPost&&s.props.addPost(e.newPost)}}),(0,N.jsx)("div",{className:U,children:t})]})}}]),t}(l.PureComponent),Y=(0,Q.D)(10),W=(0,Z.Z)({form:"newPost"})((function(s){return(0,N.jsxs)("form",{className:J,onSubmit:s.handleSubmit,children:[(0,N.jsx)("div",{children:(0,N.jsx)("label",{children:(0,N.jsx)(C.Z,{validate:[Q.C,Y],name:"newPost",placeholder:"Enter new post",component:y.g})})}),(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("div",{children:(0,N.jsx)(P.z,{onClick:function(){},children:"Add Post"})}),(0,N.jsx)("div",{children:(0,N.jsx)(P.z,{onClick:function(){},children:"Clear"})})]})]})})),H=t(364),X=(0,H.$j)((function(s){return{profilePage:s.profilePage,avatar:s.profilePage.profile.photos.small}}),{addPost:M.Pi})(G),ss=function(s){return(0,N.jsxs)("div",{children:[(0,N.jsx)(D,{saveProfile:s.saveProfile,isOwner:s.isOwner,saveAvatar:s.saveAvatar,profile:s.profile,status:s.status,updateStatusThunk:s.updateStatusThunk}),(0,N.jsx)(X,{})]})},es=t(9271),ts=t(1278),as=t(7781),rs=function(s){(0,i.Z)(t,s);var e=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s=parseInt(this.props.match.params.userId,10);s||(s=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfileThunk(s),this.props.getUserStatusThunk(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){s.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)(ss,(0,a.Z)((0,a.Z)({},this.props),{},{saveAvatar:this.props.saveAvatar,isOwner:!this.props.match.params.userId,profile:this.props.profile}))}}]),t}(l.Component),ns=(0,as.qC)((0,H.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,userId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfileThunk:M.d$,getUserStatusThunk:M.Qw,updateStatusThunk:M.OG,saveAvatar:M.$U,saveProfile:M.Ms}),es.EN,ts.e)(rs),is=function(){return(0,N.jsx)(ns,{})}},9617:function(s,e,t){t.d(e,{g:function(){return d}});var a=t(8683),r=t(5987),n=t(2791),i="textarea_textarea__IfJNB",o="textarea_error__jFV-e",l="textarea_error_text__IOBRv",c=t(184),u=["input","meta"],d=(0,n.forwardRef)((function(s){var e=s.input,t=s.meta,n=(0,r.Z)(s,u),d=t.touched&&t.error;return(0,c.jsxs)("div",{className:d&&o,children:[(0,c.jsx)("textarea",(0,a.Z)((0,a.Z)({className:i},e),n)),(0,c.jsx)("div",{children:d&&(0,c.jsx)("span",{className:l,children:t.error})})]})}))}}]);
//# sourceMappingURL=866.51adb9f8.chunk.js.map